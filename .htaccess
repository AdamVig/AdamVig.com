RewriteEngine on
RewriteCond %{HTTP:Accept-Encoding} gzip
RewriteCond %{REQUEST_FILENAME}.gz -f
RewriteRule ^(.*)$ $1.gz [L]

<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType image/jpg "access 1 week"
  ExpiresByType image/jpeg "access 1 week"
  ExpiresByType image/gif "access 1 week"
  ExpiresByType image/png "access 1 week"
  ExpiresByType image/svg+xml "access 1 week"
  ExpiresByType text/css "access 1 week"
  ExpiresByType text/javascript "access 1 week"
  ExpiresByType application/javascript "access 1 week"
  ExpiresDefault "access 2 days"
</IfModule>

<ifModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/xml text/css text/plain
  AddOutputFilterByType DEFLATE image/svg+xml application/xhtml+xml application/xml
  AddOutputFilterByType DEFLATE application/rdf+xml application/rss+xml application/atom+xml
  AddOutputFilterByType DEFLATE text/javascript application/javascript application/x-javascript application/json
  AddOutputFilterByType DEFLATE application/x-font-ttf application/x-font-otf
  AddOutputFilterByType DEFLATE font/truetype font/opentype
</ifModule>
